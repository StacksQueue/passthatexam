<mat-spinner *ngIf="isloading; else display"></mat-spinner>
<ng-template #display>
  <section *ngIf="!isEnd; else elseblock">
    <div class="score-container">
      <button mat-flat-button color="primary" (click)="openBottomSheet()">
        Start Over
      </button>
      <span>{{ score.total - questionnaires.length }}/{{ score.total }}</span>
    </div>
    <mat-divider></mat-divider>
    <app-question [question]="current.question"> </app-question>
    <app-choice
      *ngFor="let choice of current.choices"
      [choice]="choice"
      [answer]="current.answer"
    >
    </app-choice>
    <div class="actions">
      <button mat-raised-button>Back</button>
      <button mat-raised-button color="accent" (click)="next()">Next</button>
    </div>
  </section>
  <ng-template #elseblock>
    <app-score [score]="score"></app-score>
  </ng-template>
</ng-template>
