<mat-spinner *ngIf="isloading; else display"></mat-spinner>
<ng-template #display>
  <section>
    <div class="sec-container">
      <div class="score-container">
        <button mat-flat-button color="primary" (click)="openBottomSheet()">
          SELECT CATEGORIES
        </button>
        <button
          mat-flat-button
          color="warn"
          (click)="openReportQuestionDialog()"
        >
          REPORT QUESTION
        </button>
        <span class="spacer"></span>

        <span>{{ current_item }}/{{ questionnaires.length }}</span>
      </div>
      <mat-divider></mat-divider>
      <app-question [question]="current.question" [ishome]="ishome">
      </app-question>
      <app-choice
        *ngFor="let choice of current.choices"
        [choice]="choice"
        [answer]="current.answer"
        [ishome]="ishome"
        [itemNo]="current_item"
        [history]="history"
      >
      </app-choice>
      <div class="actions">
        <button mat-icon-button>
          <mat-icon>question_answer</mat-icon>
        </button>
        <div class="spacer"></div>
        <button mat-icon-button (click)="back()" [disabled]="current_item <= 1">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <button
          mat-icon-button
          [disabled]="!isPrompted"
          (click)="gotoSkippedQuestion()"
        >
          <mat-icon>move_up</mat-icon>
        </button>
        <button
          mat-icon-button
          (click)="next()"
          [disabled]="current_item + 1 > questionnaires.length"
        >
          <mat-icon>arrow_forward</mat-icon>
        </button>
      </div>
    </div>
  </section>
</ng-template>
